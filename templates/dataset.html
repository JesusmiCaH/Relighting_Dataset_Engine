{% extends "base.html" %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1>Input Dataset ({{ images|length }})</h1>
    <form action="/api/process" method="post">
        <button type="submit" class="btn btn-warning">Start Processing (ComfyUI)</button>
    </form>
</div>

<p class="text-muted">These images are waiting to be processed by the ComfyUI script.</p>

<div class="row">
    {% for img in images %}
    <div class="col-md-2 col-sm-4">
        <div class="card img-card p-2">
            <img src="{{ url_for('serve_file', filepath='input/' + img) }}" class="img-preview" style="height: 150px;">
            <small class="text-muted mt-1 text-truncate">{{ img }}</small>
        </div>
    </div>
    {% else %}
    <div class="col-12">
        <div class="alert alert-secondary">No images in dataset. Approve some from the Buffer first.</div>
    </div>
    {% endfor %}
</div>
{% endblock %}